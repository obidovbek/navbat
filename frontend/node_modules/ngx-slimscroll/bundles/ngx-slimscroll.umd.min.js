!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-slimscroll",["exports","@angular/core","@angular/common","rxjs","rxjs/operators"],t):t((e=e||self)["ngx-slimscroll"]={},e.ng.core,e.ng.common,e.rxjs,e.rxjs.operators)}(this,(function(e,t,i,r,o){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,i=i&&i.hasOwnProperty("default")?i.default:i,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o;var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l(e,t){return e(t={exports:{}},t.exports),t.exports}var a=l((function(e,t){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.ISlimScrollEvent=i;var r=function(e){this.type=e.type,this.y=e&&e.y?e.y:0,this.percent=e&&e.percent?e.percent:0,this.duration=e&&e.duration?e.duration:0,this.easing=e&&e.easing?e.easing:"linear"};t.SlimScrollEvent=r})),d=(s(a),a.ISlimScrollEvent,a.SlimScrollEvent,l((function(e,i){function r(){}Object.defineProperty(i,"__esModule",{value:!0}),i.ISlimScrollOptions=r,i.SLIMSCROLL_DEFAULTS=new t.InjectionToken("NGX_SLIMSCROLL_DEFAULTS");var o=function(){function e(e){this.position=e&&e.position?e.position:"right",this.barBackground=e&&e.barBackground?e.barBackground:"#343a40",this.barOpacity=e&&e.barOpacity?e.barOpacity:"1",this.barWidth=e&&e.barWidth?e.barWidth:"12",this.barBorderRadius=e&&e.barBorderRadius?e.barBorderRadius:"5",this.barMargin=e&&e.barMargin?e.barMargin:"1px 0",this.gridBackground=e&&e.gridBackground?e.gridBackground:"#adb5bd",this.gridOpacity=e&&e.gridOpacity?e.gridOpacity:"1",this.gridWidth=e&&e.gridWidth?e.gridWidth:"8",this.gridBorderRadius=e&&e.gridBorderRadius?e.gridBorderRadius:"10",this.gridMargin=e&&e.gridMargin?e.gridMargin:"1px 2px",this.alwaysVisible=!e||void 0===e.alwaysVisible||e.alwaysVisible,this.visibleTimeout=e&&e.visibleTimeout?e.visibleTimeout:1e3}return e.prototype.merge=function(t){var i=new e;return i.position=t&&t.position?t.position:this.position,i.barBackground=t&&t.barBackground?t.barBackground:this.barBackground,i.barOpacity=t&&t.barOpacity?t.barOpacity:this.barOpacity,i.barWidth=t&&t.barWidth?t.barWidth:this.barWidth,i.barBorderRadius=t&&t.barBorderRadius?t.barBorderRadius:this.barBorderRadius,i.barMargin=t&&t.barMargin?t.barMargin:this.barMargin,i.gridBackground=t&&t.gridBackground?t.gridBackground:this.gridBackground,i.gridOpacity=t&&t.gridOpacity?t.gridOpacity:this.gridOpacity,i.gridWidth=t&&t.gridWidth?t.gridWidth:this.gridWidth,i.gridBorderRadius=t&&t.gridBorderRadius?t.gridBorderRadius:this.gridBorderRadius,i.gridMargin=t&&t.gridMargin?t.gridMargin:this.gridMargin,i.alwaysVisible=t&&void 0!==t.alwaysVisible?t.alwaysVisible:this.alwaysVisible,i.visibleTimeout=t&&t.visibleTimeout?t.visibleTimeout:this.visibleTimeout,i},e}();i.SlimScrollOptions=o}))),c=(s(d),d.ISlimScrollOptions,d.SLIMSCROLL_DEFAULTS,d.SlimScrollOptions,l((function(e,t){function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.ISlimScrollState=i;var r=function(e){this.scrollPosition=e&&e.scrollPosition?e.scrollPosition:0,this.isScrollAtStart=!e||void 0===e.isScrollAtStart||e.isScrollAtStart,this.isScrollAtEnd=!(!e||void 0===e.isScrollAtEnd)&&e.isScrollAtEnd};t.SlimScrollState=r}))),u=(s(c),c.ISlimScrollState,c.SlimScrollState,l((function(e,s){var l=n&&n.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return s},a=n&&n.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e};Object.defineProperty(s,"__esModule",{value:!0});var u=function(e){return e},h=function(e){return e*e},p=function(e){return e*(2-e)},g=function(e){return e<.5?2*e*e:(4-2*e)*e-1},S=function(e){return e*e*e},y=function(e){return--e*e*e+1},f=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},m=function(e){return e*e*e*e},b=function(e){return 1- --e*e*e*e},v=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},O=function(e){return e*e*e*e*e},M=function(e){return 1+--e*e*e*e*e},E=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e};s.ɵ0=u,s.ɵ1=h,s.ɵ2=p,s.ɵ3=g,s.ɵ4=S,s.ɵ5=y,s.ɵ6=f,s.ɵ7=m,s.ɵ8=b,s.ɵ9=v,s.ɵ10=O,s.ɵ11=M,s.ɵ12=E,s.easing={linear:u,inQuad:h,outQuad:p,inOutQuad:g,inCubic:S,outCubic:y,inOutCubic:f,inQuart:m,outQuart:b,inOutQuart:v,inQuint:O,outQuint:M,inOutQuint:E};var T=function(){function e(e,i,n,s){var l=this;this.viewContainer=e,this.renderer=i,this.document=n,this.optionsDefaults=s,this.enabled=!0,this.scrollChanged=new t.EventEmitter,this.barVisibilityChange=new t.EventEmitter,this.initWheel=function(){var e=r.fromEvent(l.el,"DOMMouseScroll"),t=r.fromEvent(l.el,"mousewheel"),i=r.merge.apply(void 0,a([e,t])).subscribe((function(e){var t=0;e.wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),l.scrollContent(t,!0,!1),e.preventDefault&&e.preventDefault()}));l.interactionSubscriptions.add(i)},this.initDrag=function(){var e=l.bar,t=r.fromEvent(l.document.documentElement,"mousemove"),i=r.fromEvent(l.document.documentElement,"touchmove"),n=r.fromEvent(e,"mousedown"),s=r.fromEvent(l.el,"touchstart"),d=r.fromEvent(l.document.documentElement,"mouseup"),c=r.fromEvent(l.document.documentElement,"touchend"),u=n.pipe(o.mergeMap((function(i){return l.pageY=i.pageY,l.top=parseFloat(getComputedStyle(e).top),t.pipe(o.map((function(e){return e.preventDefault(),l.top+e.pageY-l.pageY})),o.takeUntil(d))}))),h=s.pipe(o.mergeMap((function(t){return l.pageY=t.targetTouches[0].pageY,l.top=-parseFloat(getComputedStyle(e).top),i.pipe(o.map((function(e){return-(l.top+e.targetTouches[0].pageY-l.pageY)})),o.takeUntil(c))}))),p=r.merge.apply(void 0,a([u,h])).subscribe((function(e){l.body.addEventListener("selectstart",l.preventDefaultEvent,!1),l.renderer.setStyle(l.body,"touch-action","pan-y"),l.renderer.setStyle(l.body,"user-select","none"),l.renderer.setStyle(l.bar,"top",e+"px");var t=l.scrollContent(0,!0,!1),i=l.el.offsetHeight-l.bar.offsetHeight;t&&t<0&&-t<=i?l.renderer.setStyle(l.el,"paddingTop",-t+"px"):t&&t>0&&t<=i&&l.renderer.setStyle(l.el,"paddingBottom",t+"px")})),g=r.merge.apply(void 0,a([d,c])).subscribe((function(){l.body.removeEventListener("selectstart",l.preventDefaultEvent,!1);var e=parseInt(l.el.style.paddingTop,10),t=parseInt(l.el.style.paddingBottom,10);l.renderer.setStyle(l.body,"touch-action","unset"),l.renderer.setStyle(l.body,"user-select","default"),e>0?l.scrollTo(0,300,"linear"):t>0&&l.scrollTo(0,300,"linear")}));l.interactionSubscriptions.add(p),l.interactionSubscriptions.add(g)},this.preventDefaultEvent=function(e){e.preventDefault(),e.stopPropagation()},this.viewContainer=e,this.el=e.element.nativeElement,this.body=this.document.querySelector("body"),this.mutationThrottleTimeout=50}return e.prototype.ngOnInit=function(){!this.interactionSubscriptions&&this.enabled&&this.setup()},e.prototype.ngOnChanges=function(e){e.enabled&&(this.enabled?this.setup():this.destroy())},e.prototype.ngOnDestroy=function(){this.destroy()},e.prototype.setup=function(){var e=this;if(this.interactionSubscriptions=new r.Subscription,this.optionsDefaults?this.options=new d.SlimScrollOptions(this.optionsDefaults).merge(this.options):this.options=new d.SlimScrollOptions(this.options),this.setStyle(),this.wrapContainer(),this.initGrid(),this.initBar(),this.getBarHeight(),this.initWheel(),this.initDrag(),this.options.alwaysVisible||this.hideBarAndGrid(),MutationObserver&&(this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=new MutationObserver((function(){e.mutationThrottleTimeout&&(clearTimeout(e.mutationThrottleTimeout),e.mutationThrottleTimeout=setTimeout(e.onMutation.bind(e),50))})),this.mutationObserver.observe(this.el,{subtree:!0,childList:!0})),this.scrollEvents&&this.scrollEvents instanceof t.EventEmitter){var i=this.scrollEvents.subscribe((function(t){return e.handleEvent(t)}));this.interactionSubscriptions.add(i)}},e.prototype.handleEvent=function(e){if("scrollToBottom"===e.type){var t=this.el.scrollHeight-this.el.clientHeight;this.scrollTo(t,e.duration,e.easing)}else if("scrollToTop"===e.type){t=0;this.scrollTo(t,e.duration,e.easing)}else if("scrollToPercent"===e.type&&e.percent>=0&&e.percent<=100){t=Math.round((this.el.scrollHeight-this.el.clientHeight)/100*e.percent);this.scrollTo(t,e.duration,e.easing)}else if("scrollTo"===e.type){(t=e.y)<=this.el.scrollHeight-this.el.clientHeight&&t>=0&&this.scrollTo(t,e.duration,e.easing)}else"recalculate"===e.type&&this.getBarHeight()},e.prototype.setStyle=function(){var e=this.el;this.renderer.setStyle(e,"overflow","hidden"),this.renderer.setStyle(e,"position","relative"),this.renderer.setStyle(e,"display","block")},e.prototype.onMutation=function(){this.getBarHeight()},e.prototype.wrapContainer=function(){this.wrapper=this.renderer.createElement("div");var e=this.wrapper,t=this.el;this.renderer.addClass(e,"slimscroll-wrapper"),this.renderer.setStyle(e,"position","relative"),this.renderer.setStyle(e,"overflow","hidden"),this.renderer.setStyle(e,"display","inline-block"),this.renderer.setStyle(e,"margin",getComputedStyle(t).margin),this.renderer.setStyle(e,"width","100%"),this.renderer.setStyle(e,"height",getComputedStyle(t).height),this.renderer.insertBefore(t.parentNode,e,t),this.renderer.appendChild(e,t)},e.prototype.initGrid=function(){this.grid=this.renderer.createElement("div");var e=this.grid;this.renderer.addClass(e,"slimscroll-grid"),this.renderer.setStyle(e,"position","absolute"),this.renderer.setStyle(e,"top","0"),this.renderer.setStyle(e,"bottom","0"),this.renderer.setStyle(e,this.options.position,"0"),this.renderer.setStyle(e,"width",this.options.gridWidth+"px"),this.renderer.setStyle(e,"background",this.options.gridBackground),this.renderer.setStyle(e,"opacity",this.options.gridOpacity),this.renderer.setStyle(e,"display","block"),this.renderer.setStyle(e,"cursor","pointer"),this.renderer.setStyle(e,"z-index","99"),this.renderer.setStyle(e,"border-radius",this.options.gridBorderRadius+"px"),this.renderer.setStyle(e,"margin",this.options.gridMargin),this.renderer.appendChild(this.wrapper,e)},e.prototype.initBar=function(){this.bar=this.renderer.createElement("div");var e=this.bar;this.renderer.addClass(e,"slimscroll-bar"),this.renderer.setStyle(e,"position","absolute"),this.renderer.setStyle(e,"top","0"),this.renderer.setStyle(e,this.options.position,"0"),this.renderer.setStyle(e,"width",this.options.barWidth+"px"),this.renderer.setStyle(e,"background",this.options.barBackground),this.renderer.setStyle(e,"opacity",this.options.barOpacity),this.renderer.setStyle(e,"display","block"),this.renderer.setStyle(e,"cursor","pointer"),this.renderer.setStyle(e,"z-index","100"),this.renderer.setStyle(e,"border-radius",this.options.barBorderRadius+"px"),this.renderer.setStyle(e,"margin",this.options.barMargin),this.renderer.appendChild(this.wrapper,e),this.barVisibilityChange.emit(!0)},e.prototype.getBarHeight=function(){var e=this.el.offsetHeight,t=Math.max(e/this.el.scrollHeight*e,30)+"px",i=parseInt(t,10)===e?"none":"block";this.wrapper.offsetHeight!==e&&this.renderer.setStyle(this.wrapper,"height",e+"px"),this.renderer.setStyle(this.bar,"height",t),this.renderer.setStyle(this.bar,"display",i),this.renderer.setStyle(this.grid,"display",i),this.barVisibilityChange.emit("none"!==i)},e.prototype.scrollTo=function(e,t,i){var r=this,o=Date.now(),n=this.el.scrollTop,l=(this.el.offsetHeight,this.bar.offsetHeight,this.el.scrollHeight-this.el.clientHeight),a=Math.max(this.el.offsetHeight/this.el.scrollHeight*this.el.offsetHeight,30),d=parseInt(this.el.style.paddingTop,10)||0,c=parseInt(this.el.style.paddingBottom,10)||0,u=function(h){var p=Date.now(),g=Math.min(1,(p-o)/t),S=s.easing[i](g);if(d>0||c>0){var y=null;d>0&&(y=-(S*(e-(y=-d))+y),r.renderer.setStyle(r.el,"paddingTop",y+"px")),c>0&&(y=S*(e-(y=c))+y,r.renderer.setStyle(r.el,"paddingBottom",y+"px"))}else r.el.scrollTop=S*(e-n)+n;var f=r.el.scrollTop/l;if(0===c){var m=Math.round(Math.round(r.el.clientHeight*f)-a);m>0&&r.renderer.setStyle(r.bar,"top",m+"px")}g<1&&requestAnimationFrame(u)};requestAnimationFrame(u)},e.prototype.scrollContent=function(e,t,i){var r=this,o=e,n=this.el.offsetHeight-this.bar.offsetHeight,s=this.el.scrollHeight-this.el.offsetHeight,l=null;t&&(((o=parseInt(getComputedStyle(this.bar).top,10)+20*e/100*this.bar.offsetHeight)<0||o>n)&&(l=o>n?o-n:o),o=Math.min(Math.max(o,0),n),o=e>0?Math.ceil(o):Math.floor(o),this.renderer.setStyle(this.bar,"top",o+"px")),o=parseInt(getComputedStyle(this.bar).top,10)/(this.el.offsetHeight-this.bar.offsetHeight)*s,this.el.scrollTop=o,this.showBarAndGrid(),this.options.alwaysVisible||(this.visibleTimeout&&clearTimeout(this.visibleTimeout),this.visibleTimeout=setTimeout((function(){r.hideBarAndGrid()}),this.options.visibleTimeout));var a=0===o,d=o===s,u=Math.ceil(o),h=new c.SlimScrollState({scrollPosition:u,isScrollAtStart:a,isScrollAtEnd:d});return this.scrollChanged.emit(h),l},e.prototype.showBarAndGrid=function(){this.renderer.setStyle(this.grid,"background",this.options.gridBackground),this.renderer.setStyle(this.bar,"background",this.options.barBackground)},e.prototype.hideBarAndGrid=function(){this.renderer.setStyle(this.grid,"background","transparent"),this.renderer.setStyle(this.bar,"background","transparent")},e.prototype.destroy=function(){if(this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.el.parentElement.classList.contains("slimscroll-wrapper")){var e=this.el.parentElement,t=e.querySelector(".slimscroll-bar");e.removeChild(t);var i=e.querySelector(".slimscroll-grid");e.removeChild(i),this.unwrap(e)}this.interactionSubscriptions&&this.interactionSubscriptions.unsubscribe()},e.prototype.unwrap=function(e){for(var t=document.createDocumentFragment();e.firstChild;){var i=e.removeChild(e.firstChild);t.appendChild(i)}e.parentNode.replaceChild(t,e)},e.prototype.onResize=function(e){this.getBarHeight()},e.decorators=[{type:t.Directive,args:[{selector:"[slimScroll]",exportAs:"slimScroll"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef,decorators:[{type:t.Inject,args:[t.ViewContainerRef]}]},{type:t.Renderer2,decorators:[{type:t.Inject,args:[t.Renderer2]}]},{type:void 0,decorators:[{type:t.Inject,args:[i.DOCUMENT]}]},{type:void 0,decorators:[{type:t.Inject,args:[d.SLIMSCROLL_DEFAULTS]},{type:t.Optional}]}]},e.propDecorators={enabled:[{type:t.Input}],options:[{type:t.Input}],scrollEvents:[{type:t.Input}],scrollChanged:[{type:t.Output}],barVisibilityChange:[{type:t.Output}],onResize:[{type:t.HostListener,args:["window:resize",["$event"]]}]},e}();s.SlimScrollDirective=T}))),h=(s(u),u.easing,u.SlimScrollDirective,l((function(e,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[u.SlimScrollDirective],exports:[u.SlimScrollDirective]}]}],e}();i.NgSlimScrollModule=r}))),p=(s(h),h.NgSlimScrollModule,l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SlimScrollEvent=a.SlimScrollEvent,t.SLIMSCROLL_DEFAULTS=d.SLIMSCROLL_DEFAULTS,t.SlimScrollOptions=d.SlimScrollOptions,t.easing=u.easing,t.SlimScrollDirective=u.SlimScrollDirective,t.NgSlimScrollModule=h.NgSlimScrollModule}))),g=(s(p),p.SlimScrollEvent,p.SLIMSCROLL_DEFAULTS,p.SlimScrollOptions,p.easing,p.SlimScrollDirective,p.NgSlimScrollModule,l((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SlimScrollEvent=p.SlimScrollEvent,t.SLIMSCROLL_DEFAULTS=p.SLIMSCROLL_DEFAULTS,t.SlimScrollOptions=p.SlimScrollOptions,t.easing=p.easing,t.SlimScrollDirective=p.SlimScrollDirective,t.NgSlimScrollModule=p.NgSlimScrollModule}))),S=s(g),y=g.SlimScrollEvent,f=g.SLIMSCROLL_DEFAULTS,m=g.SlimScrollOptions,b=g.easing,v=g.SlimScrollDirective,O=g.NgSlimScrollModule;e.NgSlimScrollModule=O,e.SLIMSCROLL_DEFAULTS=f,e.SlimScrollDirective=v,e.SlimScrollEvent=y,e.SlimScrollOptions=m,e.default=S,e.easing=b,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-slimscroll.umd.min.js.map